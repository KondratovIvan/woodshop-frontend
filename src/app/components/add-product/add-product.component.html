<div id="mainBody">
  <div class="add-product-container">
    <form [formGroup]="addProductFormGroup" (ngSubmit)="addProduct()">
      <fieldset class="add-product-fieldset">

        <!-- Product Name -->
        <div class="control-group">
          <label for="productName">Product Name</label>
          <input
            id="productName"
            type="text"
            formControlName="productName"
            class="custom-input"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productName')?.invalid" class="error-text">
            Title is Required
          </div>
        </div>

        <!-- Quantity -->
        <div class="control-group">
          <label for="productQuantity">Quantity</label>
          <input
            id="productQuantity"
            type="number"
            formControlName="productQuantity"
            class="custom-input"
            min="1"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productQuantity')?.invalid" class="error-text">
            Quantity must be >= 1
          </div>
        </div>

        <!-- Images -->
        <div class="control-group">
          <label for="image1">Product Image 1</label>
          <input
            id="image1"
            type="file"
            (change)="onFileSelected($event, 1)"
            class="custom-input"
          />
          <div
            *ngIf="addProductFormGroup.get('productImage1')?.value"
            class="upload-status"
          >
            <img
              [src]="addProductFormGroup.get('productImage1')?.value"
              alt="preview1"
              class="thumb"
            />
            <span class="marker">✓ Uploaded</span>
          </div>
          <div *ngIf="submitted && addProductFormGroup.get('productImage1')?.invalid" class="error-text">
            Image 1 is Required
          </div>
        </div>

        <div class="control-group">
          <label for="image2">Product Image 2</label>
          <input
            id="image2"
            type="file"
            (change)="onFileSelected($event, 2)"
            class="custom-input"
          />
          <div
            *ngIf="addProductFormGroup.get('productImage2')?.value"
            class="upload-status"
          >
            <img
              [src]="addProductFormGroup.get('productImage2')?.value"
              alt="preview2"
              class="thumb"
            />
            <span class="marker">✓ Uploaded</span>
          </div>
          <div *ngIf="submitted && addProductFormGroup.get('productImage2')?.invalid" class="error-text">
            Image 2 is Required
          </div>
        </div>

        <div class="control-group">
          <label for="image3">Product Image 3</label>
          <input
            id="image3"
            type="file"
            (change)="onFileSelected($event, 3)"
            class="custom-input"
          />
          <div
            *ngIf="addProductFormGroup.get('productImage3')?.value"
            class="upload-status"
          >
            <img
              [src]="addProductFormGroup.get('productImage3')?.value"
              alt="preview3"
              class="thumb"
            />
            <span class="marker">✓ Uploaded</span>
          </div>
          <div *ngIf="submitted && addProductFormGroup.get('productImage3')?.invalid" class="error-text">
            Image 3 is Required
          </div>
        </div>

        <!-- Brand -->
        <div class="control-group">
          <label for="productBrand">Brand</label>
          <input
            id="productBrand"
            type="text"
            formControlName="productBrand"
            class="custom-input"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productBrand')?.invalid" class="error-text">
            Brand is Required
          </div>
        </div>

        <!-- Price / Currency -->
        <div class="control-group">
          <label for="productPrice">Price</label>
          <input
            id="productPrice"
            type="number"
            formControlName="productPrice"
            class="custom-input"
            min="0.01"
            step="0.01"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productPrice')?.invalid" class="error-text">
            Price must be ≥ 0.01
          </div>
        </div>

        <div class="control-group">
          <label for="currency">Currency</label>
          <select
            id="currency"
            formControlName="productCurrency"
            class="custom-select"
          >
            <option value="">Select Currency</option>
            <option *ngFor="let c of currencies" [value]="c">{{ c }}</option>
          </select>
          <div *ngIf="submitted && addProductFormGroup.get('productCurrency')?.invalid" class="error-text">
            Currency is Required
          </div>
        </div>

        <!-- Category -->
        <div class="control-group">
          <label for="productCategory">Category</label>
          <select
            id="productCategory"
            formControlName="productCategory"
            class="custom-select"
          >
            <option value="">Select Category</option>
            <option
              *ngFor="let cat of categoryOptions"
              [value]="cat.category"
            >
              {{ cat.name }}
            </option>
          </select>
          <div *ngIf="submitted && addProductFormGroup.get('productCategory')?.invalid" class="error-text">
            Category is Required
          </div>
        </div>

        <!-- Colors -->
        <div class="control-group">
          <label for="colors">Colors</label>
          <select
            id="colors"
            formControlName="productColors"
            multiple
            class="custom-select"
          >
            <option *ngFor="let color of colors" [value]="color">{{ color }}</option>
          </select>
          <div *ngIf="submitted && addProductFormGroup.get('productColors')?.invalid" class="error-text">
            At least one color is Required
          </div>
        </div>

        <!-- Description -->
        <div class="control-group">
          <label for="productDescription">Description</label>
          <textarea
            id="productDescription"
            formControlName="productDescription"
            rows="4"
            class="custom-textarea"
          ></textarea>
          <div *ngIf="submitted && addProductFormGroup.get('productDescription')?.invalid" class="error-text">
            Description is Required
          </div>
        </div>

        <!-- Selected -->
        <div class="control-group">
          <label>
            <input
              type="checkbox"
              formControlName="productSelected"
            />
            Selected
          </label>
        </div>

        <!-- Dimensions -->
        <div class="control-group">
          <label for="height">Height (cm)</label>
          <input
            id="height"
            type="number"
            formControlName="productHeight"
            class="custom-input"
            min="0.01"
            step="0.1"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productHeight')?.invalid" class="error-text">
            Height must be ≥ 0.01
          </div>
        </div>

        <div class="control-group">
          <label for="width">Width (cm)</label>
          <input
            id="width"
            type="number"
            formControlName="productWidth"
            class="custom-input"
            min="0.01"
            step="0.1"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productWidth')?.invalid" class="error-text">
            Width must be ≥ 0.01
          </div>
        </div>

        <div class="control-group">
          <label for="larger">Depth (cm)</label>
          <input
            id="larger"
            type="number"
            formControlName="productLarger"
            class="custom-input"
            min="0.01"
            step="0.1"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productLarger')?.invalid" class="error-text">
            Depth must be ≥ 0.01
          </div>
        </div>

        <div class="control-group">
          <label for="weight">Weight (kg)</label>
          <input
            id="weight"
            type="number"
            formControlName="productWeight"
            class="custom-input"
            min="0.01"
            step="0.1"
          />
          <div *ngIf="submitted && addProductFormGroup.get('productWeight')?.invalid" class="error-text">
            Weight must be ≥ 0.01
          </div>
        </div>

        <!-- Save Button -->
        <div class="control-group">
          <button
            type="submit"
            [ngClass]="addProductFormGroup.valid ? 'save-btn enabled' : 'save-btn disabled'"
            [disabled]="!addProductFormGroup.valid"
          >
            Save Product
          </button>
        </div>

      </fieldset>
    </form>
  </div>
</div>
